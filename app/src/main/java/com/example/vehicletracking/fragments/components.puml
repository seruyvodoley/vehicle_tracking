@startuml

skinparam componentStyle rectangle
skinparam defaultTextAlignment center

' ==== Цветовая схема ====
' #CDEAFF – UI слой (Fragments)
' #DFFFD6 – Трекинг / Контроль
' #F9D6D5 – Симуляция (данные, генерация координат)
' #EEE8FF – Абстракции / Интерфейсы

' ==== UI Layer ====
package "UI Layer\n[Контроль потока, ограничение видимости]" <<Rectangle>> #CDEAFF {
  [MapFragment]
}

' ==== Tracking Logic ====
package "Tracking\n[Макс. связность,\nминим. связность]" <<Rectangle>> #DFFFD6 {
  [VehicleTracker]
}

' ==== Simulation ====
package "Simulation\n[Ограничение видимости]" <<Rectangle>> #F9D6D5 {
  [VehicleLocationSimulator]
}

' ==== Interfaces ====
package "Interfaces\n[Dependency Inversion]" <<Rectangle>> #EEE8FF {
  [LocationProvider]
  [LocationCallback]
}

' ==== Directed Dependencies ====
[MapFragment] --> [VehicleTracker] : delegates
[VehicleTracker] --> [LocationProvider] : uses
[VehicleLocationSimulator] --> [LocationCallback] : callback

' ==== Interface Implementation ====
[VehicleLocationSimulator] ..|> [LocationProvider]

@enduml
